{"version":3,"sources":["../../assets_src/js/be/code.js","../../assets_src/js/be/fragments.js","../../assets_src/js/be/scripts.js"],"names":[],"mappings":"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","file":"be.js","sourcesContent":["var bloecks_code = {\n    init: function() {\n        console.log('code initialized');\n        $(document).on('keydown.bloecks', 'textarea.bloecks--code', function(e) {\n            bloecks_code.handleKeyDown(e, this);\n        });\n    },\n\n    handleKeyDown: function(e, el) {\n        console.log(`Key pressed ${e.keyCode} (and SHIFT is ${e.shiftKey ? '' : 'not '}pressed)`);\n        switch(e.keyCode) {\n            case 9: // Tab key\n                e.preventDefault(); // Prevent the default tab behavior\n                if(e.shiftKey) {\n                    bloecks_code.jumpToPreviousTab(el);\n                } else {\n                    bloecks_code.insertTextAtCursor(el, \"\\t\");\n                }\n                break;\n            case 13: // Enter key\n                e.preventDefault(); // Prevent the default enter key behavior\n                bloecks_code.insertLinebreakAtCursor(el);\n                break;\n            default:\n                // Handle other keys if needed\n                break;\n        }\n    },\n\n    insertLinebreakAtCursor: function(el) {\n        var val = el.value;\n        var before = val.slice(0, el.selectionStart);\n        var matches = before.match(/(\\n|^)(\\t+|\\s+)?[^\\n]*$/);\n        if(matches && matches[2] !== undefined) {\n            this.insertTextAtCursor(el, \"\\n\" + matches[2]);\n        } else {\n            this.insertTextAtCursor(el, \"\\n\");\n        }\n    },\n\n    jumpToPreviousTab: function(el) {\n        var val = el.value;\n        var before = val.substring(0, el.selectionStart);\n        var matches = before.match(/(\\t+|\\s+)$/);\n        if(matches && matches[0] !== undefined) {\n            // Remove the last tab or spaces\n            var newCaretPosition = el.selectionStart - matches[0].length;\n            el.value = val.substring(0, newCaretPosition) + val.substring(el.selectionEnd);\n            el.selectionStart = el.selectionEnd = newCaretPosition;\n        }\n    },\n\n    insertTextAtCursor: function(el, text) {\n        var val = el.value;\n        var startIndex = el.selectionStart;\n        var endIndex = el.selectionEnd;\n        el.value = val.substring(0, startIndex) + text + val.substring(endIndex);\n        var pos = startIndex + text.length;\n        el.selectionStart = pos;\n        el.selectionEnd = pos;\n    }\n}\n\n$(document).on('ready.bloecks', function() {\n    bloecks_code.init();\n});\n","var bloecks_fragments = {\n    init: function() {\n        console.log('fragments');\n        this.setupEventListeners();\n    },\n\n    setupEventListeners: function() {\n        // Verwende .on() direkt für bessere Performance und Klarheit\n        $(document).on('change.bloecks', '.bloecks--setting input[type=\"checkbox\"][name*=\"[active]\"]', function() {\n            bloecks_fragments.toggle(this);\n        });\n    },\n\n    toggle: function(el) {\n        var $el = $(el), // Cache das jQuery Objekt für wiederholte Nutzung\n            on = $el.is(':checked'),\n            id = $el.attr('id'),\n            $target = $('.' + id); // Vermeide wiederholte Selektion\n\n        if (on) {\n            $target.removeClass('is--hidden');\n        } else {\n            $target.addClass('is--hidden');\n        }\n    }\n};\n\n// Verwende die 'rex:ready' und 'ready.bloecks' Ereignisse für eine initiale Ausführung\n$(document).on('rex:ready ready.bloecks', function() {\n    bloecks_fragments.init();\n\n    // Trigger manuell die 'change' Ereignisse, um den Anfangszustand korrekt zu setzen\n    $('.bloecks--setting input[type=\"checkbox\"][name*=\"[active]\"]').change();\n});\n","var bloecks = {\n    plugins: [],\n\n    init: function() {\n        // Iterate through plugins using a more efficient loop\n        this.getPlugins(true).forEach(function(plugin) {\n            if (bloecks[plugin] && typeof bloecks[plugin].init === 'function') {\n                bloecks[plugin].init();\n            }\n        });\n    },\n\n    getSliceId: function(slice) {\n        let id = null;\n        let $slice = $(slice);\n\n        // Optimize DOM traversal and condition checks\n        if (!$slice.is('.rex-slice-output')) {\n            $slice = $slice.closest('.rex-slice-output');\n        }\n\n        if ($slice.length) {\n            let href = $slice.find('[href*=\"slice_id=\"]').first().attr('href');\n            if (href) {\n                id = parseInt(href.match(/slice_id=(\\d+)/)[1], 10);\n            } else if ($slice.attr('id')) {\n                id = parseInt($slice.attr('id').replace(/\\D/g, ''), 10);\n            }\n        }\n\n        return id;\n    },\n\n    executePjax: function(url) {\n        // Simplify URL manipulation\n        let cleanUrl = url.replace(/(#[^\\?\\&]+)/, '');\n        let hash = url.match(/(#[^\\?\\&]+)/) ? url.match(/(#[^\\?\\&]+)/)[0] : '';\n        let finalUrl = cleanUrl + hash;\n\n        console.log('PJAXing ' + finalUrl);\n\n        $.pjax({\n            url: finalUrl,\n            container: '#rex-js-page-main-content',\n            fragment: '#rex-js-page-main-content',\n            push: false\n        });\n    },\n\n    getPlugins: function(initializable) {\n        return this.plugins.filter(function(plugin) {\n            return typeof plugin === 'string' &&\n                   typeof bloecks[plugin] !== 'undefined' &&\n                   (!initializable || typeof bloecks[plugin].init === 'function');\n        });\n    },\n\n    addPlugin: function(name, object, priority) {\n        this[name] = object;\n\n        priority = isNaN(parseInt(priority)) ? this.plugins.length : Math.max(parseInt(priority), 0);\n\n        // Ensure the plugins array is large enough\n        while (this.plugins.length < priority) {\n            this.plugins.push(undefined);\n        }\n\n        this.plugins.splice(priority, 0, name);\n    }\n}\n\n$(document).on('rex:ready', function() { bloecks.init(); });\n"]}