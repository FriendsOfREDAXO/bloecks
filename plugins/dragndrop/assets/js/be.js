bloecks.addPlugin("dragndrop",{init:function(){var a=this;$(".rex-slices:not(.is--undraggable)").each(function(b,c){try{$(c).sortable("destroy")}catch(a){}$(c).find(".rex-slice.rex-slice-edit, .rex-slice.rex-slice-add").length?$(c).addClass("is--editing"):a.addSortables(c)})},markDisabledItems:function(a,b){b="string"!=typeof b?"ui-state-disabled":b,$(a).find(".rex-slice-output:not(."+b+")").each(function(a,c){$(c).find('[href*="direction=move"]').length||$(c).addClass(b)})},addSortables:function(a){var b="ui-state-disabled";this.markDisabledItems(a,b),$(a).sortable({appendTo:document.body,handle:".panel-heading",placeholder:"rex-slice rex-slice-placeholder",cancel:b,items:">.rex-slice.rex-slice-draggable",start:function(a,b){$(this).addClass("ui-state-sorting"),b.placeholder.css({height:b.item.outerHeight(),width:b.item.outerWidth()-1})},stop:function(a,b){$(this).hasClass("ui-state-updated")||$(this).removeClass("ui-state-sorting")},update:function(a,b){$(this).addClass("ui-state-updated");var c=b.position.top<b.originalPosition.top?"up":"down",d=bloecks.getSliceId(b.item),e=b.item.prevAll(".rex-slice-draggable").length?bloecks.getSliceId(b.item.prevAll(".rex-slice-draggable").first()):0;if(null!==d&&null!==e){var f=b.item.find('[href*="direction=move'+c+'"]').length?b.item.find('[href*="direction=move'+c+'"]').first().attr("href"):null;null!==f?(f=f.replace(/(&amp;|&)direction=move(up|down)/,"$1direction=move$2$1insertafter="+e),f=f.replace(/content_move_slice/,"content_move_slice_to")):f=window.location.href,bloecks.executePjax(f)}}})}});
//# sourceMappingURL=be.js.map